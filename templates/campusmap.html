{% extends "sitebase.html" %}	
{% block title %}Berkeley Campus Energy Portal{% endblock %}

{% block extra_scriptsCSS_imports %}
		<script type="text/javascript" src="/site-media/jquery-zoomable/jquery.zoomable.js"></script>
{% endblock %}

{% block extra_css_inline %}
      		/* The white background content wrapper */
      		.content {
        		background-color: #fff;
        		padding: 20px;
        		margin: 0 -20px; /* negative indent the amount of the padding to maintain the grid system */
        		-webkit-border-radius: 0 0 6px 6px;
           			-moz-border-radius: 0 0 6px 6px;
                		border-radius: 0 0 6px 6px;
        		-webkit-box-shadow: 0 1px 2px rgba(0,0,0,.15);
           			-moz-box-shadow: 0 1px 2px rgba(0,0,0,.15);
                		box-shadow: 0 1px 2px rgba(0,0,0,.15);
      		}

      		/* Page header tweaks */
      		.page-header {
        		background-color: #f5f5f5;
        		padding: 20px 20px 10px;
        		margin: -20px -20px 20px;
      		}
			footer {
				margin-top: -10px;
			}
{% endblock %}

{% block extra_scripts_inline %}
	$(document).ready(function(){
		$('input:button').button();
		$('#image').zoomable();
		$('#image').zoomable('zoomOut');
		$("#dialog").dialog({ autoOpen: true, minWidth: 150, minHeight: 500, position: 'right' });
	});
	///FYI there are more scripts at the bottom in the random_extras block
{% endblock %}




{% block menu_1 %} class="active" {% endblock %}

{% block container_inside %}
		<div class="content">
			<div class="page-header">
				<h1>Campus Map<small> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Click a building to view energy usage information.</small></h1>
			</div>
			<div class="row">
				<div class="span16">
					<div style="text-align:right;position:right;">
						<input class="btn" type="button" value="Zoom in" onclick="$('#image').zoomable('zoomIn')" title="Zoom in" />
						<input class="btn" type="button" value="Zoom out" onclick="$('#image').zoomable('zoomOut')" title="Zoom out" />
						<input class="btn" type="button" value="Reset" id="reset" />
						<input class="btn" type="button" value="Popup Building List" id="listb" />
					</div> 
					<div style="overflow:hidden;width:940px;height:680px;position:relative;">
						<img src="/site-media/campusmap.png" width="1232" height="1067" style="border:0;" alt="campusmap" usemap="#map" id="image" />
						<map id="map" name="map">
						<!-- #$-:Image map file created by GIMP Image Map plug-in -->
						<!-- #$-:GIMP Image Map plug-in by Maurits Rijk -->
						<!-- #$-:Please do not edit lines starting with "#$" -->
						<!-- #$VERSION:2.3 -->
						<!-- #$AUTHOR:sagark  -->
						<area shape="rect" coords="692,118,717,155" href="/buildings/soda" alt="soda"/>
						<area shape="poly" coords="752,181,804,181,807,219,756,224" href="/buildings/cory" alt="cory"/>
						<area shape="poly" coords="702,212,725,210,724,185,741,184,744,225,703,229" href="/buildings/sutardjadai" alt="sutardjadai"/>
						</map>
					</div>
				</div>
			</div>
		</div>
{% endblock %}

{% block random_extras %}
	<div id="dialog" title="Building List" style="text-align:left;">
		<ul>
			{% for building in buildings|dictsort:"longname" %}
			<li><a href="/buildings/{{building.shortname}}">{{ building }}</a></li>
			{% endfor %}
		</ul>
	</div>

<script type="text/javascript">
	$("#listb").click(function(){
		$("#dialog").dialog("open");
		console.log("button pressed");
	});
	$("#reset").click(function(){
		$('#image').zoomable('reset');
		$('#image').zoomable('zoomOut');
	});
</script>
{% endblock %}

